<!--side_barの呼び出し-->
<%= render 'side_bar', post: @posts %>

<div class="card-list-container py-5">
  <% @posts.each do |post| %>
  <div class="card w-50 mx-auto mt-4 shadow-lg">
    <%= link_to post_path(post.id) do %>
      <%= image_tag post.get_image, class:"card-img-top"; %>
    <% end %>
    <div class="card-body">
      <div class="row">
        <div class="col-2">
          <% if post.user %>
            <%= image_tag post.user.get_profile_image(100, 100), class: "mt-3 rounded-circle" %>
          <% else %>
            <%= image_tag "default_profile_image.jpg", class: "mt-3 rounded-circle" %>
          <% end %>
        </div>
        <div class="col-10">
          <p class="card-title">
            <%= link_to(post_path(post.id), class:"text-dark") do %>
              <strong><i class="fa-regular fa-flag"></i><span> <%= post.title %></span></strong>
            <% end %>
          </p>
          <p class="card-text">説明：<%= post.body %></p>
          <span><i class="fa-solid fa-user"></i> By <%= post.user.name %> ｜ </span>
          <span><%= link_to "#{post.comments.count} コメント", post_path(post.id), class:"text-dark" %></span>
        </div>
      </div>
    </div>
  </div>
  <% end %>
  <%= paginate @posts %>
</div>
